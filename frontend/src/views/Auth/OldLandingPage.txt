<template>
  <v-app class="portal-bg">
    <!-- App Bar -->
    <v-app-bar elevation="3" class="top-bot">
      <v-container fluid>
        <div
          class="d-flex align-center justify-space-between flex-wrap"
          style="color: #ff4cd2"
        >
          <div class="d-flex align-center">
            <v-icon size="28" class="mr-2">mdi-school</v-icon>

            <span
              class="font-weight-bold"
              :class="!isSmAndUp ? 'text-subtitle-1' : 'text-h6'"
            >
              {{
                !smAndUp
                  ? "Southern Davao NHS"
                  : "Southern Davao National High School"
              }}
            </span>
          </div>

          <div
            v-if="isSmAndUp"
            class="text-caption font-weight-medium text-right mt-1 mt-sm-0"
          >
            Maka-Diyos • Maka-Tao • Maka-Bayan • Maka-Kalikasan
          </div>
        </div>
      </v-container>
    </v-app-bar>

    <!-- Main Content -->
    <!-- <v-main
      :style="{
        backgroundImage: 'url(' + require('@/assets/img/bgportal.jpg') + ')',
        backgroundSize: 'cover',
        backgroundPosition: 'center',
        opacity: '50%',
      }"
    > -->
    <v-main>
      <v-container class="py-12">
        <!-- Header -->
        <div
          class="text-center mt-10"
          style="
            color: black;
            border: 1px solid grey;
            border-radius: 10px;
            width: 300px;
            margin: 0 auto;
            background-color: rgba(255, 0, 191, 0.5);
          "
        >
          <h2 class="text-h4 font-weight-bold">Users Portal</h2>
          <p class="mt-2">Select a module to continue</p>
        </div>
        <!-- Modules -->
        <v-row justify="center" dense>
          <v-col
            v-for="(item, i) in modules"
            :key="i"
            cols="12"
            sm="6"
            md="3"
            class="d-flex justify-center mt-10"
          >
            <v-card
              @click="setActive(i)"
              rounded="xl"
              height="220"
              width="280"
              :elevation="item.active ? 10 : 3"
              :class="[
                'module-card d-flex flex-column align-center justify-center pa-6',
                item.active ? 'active-card' : 'inactive-card',
              ]"
            >
              <v-icon size="72" :color="item.active ? 'white' : '#ff4cd2'">
                {{ item.icon }}
              </v-icon>

              <div
                class="mt-5 text-center text-subtitle-1 font-weight-semibold"
                :class="item.active ? 'text-white' : 'text-grey-darken-3'"
              >
                {{ item.label }}
              </div>
            </v-card>
          </v-col>
        </v-row>
      </v-container>
    </v-main>

    <!-- Footer -->
    <v-footer app elevation="3" class="top-bot">
      <v-container style="color: #ff4cd2">
        <v-row align="center">
          <v-col cols="12" md="6" class="text-center text-md-left">
            &copy; {{ new Date().getFullYear() }} — <strong>SOUTHERN</strong>.
            All rights reserved.
          </v-col>

          <v-col cols="12" md="6" class="text-center text-md-right">
            <v-icon size="18" class="mr-1">mdi-email</v-icon>
            southern@gmail.com
            <span class="mx-3">|</span>
            <v-icon size="18" class="mr-1">mdi-facebook</v-icon>
            Southern National High School
          </v-col>
        </v-row>
      </v-container>
    </v-footer>
  </v-app>
</template>

<script>
import { useDisplay } from "vuetify";
export default {
  name: "portalPage",
  data: () => ({
    display: useDisplay(),
    modules: [
      { icon: "mdi-account-child", label: "Parents/Guardian", active: false },
      {
        icon: "mdi-human-male-board",
        label: "Admin/Faculty",
        active: false,
      },
      //   { icon: "mdi-account", label: "Student/Alumni", active: false },
      //   { icon: "mdi-chart-bar", label: "Finance", active: false },
      //   { icon: "mdi-folder-multiple", label: "Admin Module", active: false },
      //   { icon: "mdi-cash-register", label: "Cashier", active: false },
    ],
  }),
  computed: {
    isSmAndUp() {
      return this.display.smAndUp;
    },
  },
  methods: {
    setActive(index) {
      console.log(index);
      this.modules.forEach((mod, i) => {
        mod.active = i === index;
        localStorage.setItem("userType", index);
        this.$router.push("/login");
      });
    },
    enroll() {
      this.$router.push("/student-enroll");
    },
  },
};
</script>
<style scoped>
.portal-bg {
  background: linear-gradient(135deg, #ffffff, #ff00bf);
  min-height: 100vh;
}

.module-card {
  cursor: pointer;
  transition: all 0.25s ease;
}

.module-card:hover {
  transform: translateY(-6px);
}

/* .active-card {
  background: linear-gradient(135deg, #ffffff, #ffffff);
} */

.inactive-card {
  background-color: #f5f5f5;
}
</style>
